@model IEnumerable<fantasydg.Models.ViewModels.PlayerSeasonStatsViewModel>

@{
    var fantasyMap = ViewBag.FantasyMap as Dictionary<(int, int, string), float> ?? new();
    var leagueName = ViewBag.LeagueName as string;
    var leagueId = (int)ViewBag.LeagueId;
    var teamId = (int)ViewBag.TeamId;
}

<div id="tableWrapper" class="d-none table-scroll-container">
    <div id="playerAddAlert" class="d-none"></div>
    <div class="table-scroll-top"></div>
    <table id="playersTable" class="stats-table stripe">
        <thead>
            <tr>
                <th>Add</th>
                <th>Player</th>
                <th>Pts.</th>
                <th>Place</th>
                <th>Birdie-</th>
                <th>Eagle-</th>
                <th>Bogey+</th>
                <th>Dbl Bog.+</th>
                <th>Fairway</th>
                <th>C1 Reg</th>
                <th>C2 Reg</th>
                <th>Parked</th>
                <th>Scramb.</th>
                <th>OB</th>
                <th>C1x Putt</th>
                <th>C2 Putt</th>
                <th>Tot. Putt</th>
                <th>Long Thr.-In</th>
                <th>Avg. Putt</th>
                <th>Strk. Gained</th>
                <th>SG Putting</th>
                <th>SG Tee→Grn</th>
                <th>SG C1x</th>
                <th>SG C2</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var pt in Model.OrderBy(pt => pt.Place))
            {
                var points = pt.FantasyPoints;

                <tr>
                    <td>
                        <form method="post" asp-action="AddPlayer" asp-controller="Team" class="ajax-add-player-form">
                            <input type="hidden" name="teamId" value="@teamId" />
                            <input type="hidden" name="leagueId" value="@leagueId" />
                            <input type="hidden" name="PDGANumber" value="@pt.PDGANumber" />
                            <button type="submit" class="btn btn-sm btn-success">+</button>
                        </form>
                    </td>
                    <td>@pt.Player.Name</td>
                    <td>@pt.FantasyPoints.ToString("0.0")</td>
                    <td>@pt.Place.ToString("0.#")</td>
                    <td>@pt.BirdieMinus.ToString("0.#")</td>
                    <td>@pt.EagleMinus.ToString("0.#")</td>
                    <td>@pt.BogeyPlus.ToString("0.#")</td>
                    <td>@pt.DoubleBogeyPlus.ToString("0.#")</td>
                    <td>@pt.Fairway.ToString("0.#")</td>
                    <td>@pt.C1InReg.ToString("0.#")</td>
                    <td>@pt.C2InReg.ToString("0.#")</td>
                    <td>@pt.Parked.ToString("0.#")</td>
                    <td>@pt.Scramble.ToString("0.#")</td>
                    <td>@pt.ObRate.ToString("0.#")</td>
                    <td>@pt.C1xPutting.ToString("0.#")</td>
                    <td>@pt.C2Putting.ToString("0.#")</td>
                    <td>@pt.TotalPuttDistance</td>
                    <td>@pt.LongThrowIn</td>
                    <td>@pt.AvgPuttDistance.ToString("0.#")</td>
                    <td>@pt.StrokesGainedTotal.ToString("0.#")</td>
                    <td>@pt.StrokesGainedPutting.ToString("0.#")</td>
                    <td>@pt.StrokesGainedTeeToGreen.ToString("0.#")</td>
                    <td>@pt.StrokesGainedC1xPutting.ToString("0.#")</td>
                    <td>@pt.StrokesGainedC2Putting.ToString("0.#")</td>
                </tr>
            }
        </tbody>
    </table>
</div>